```
Параллельные и распределенные вычисления.
```
Распределенные вычисления проводятся на нескольких машинах.

Параллельные могут производиться как на одной машине, так и на нескольких.

Многопоточность может быть – много потоков в одном процессе или много процессов в разных
потоках.

**Параллельные вычисления** – способ организации компьютерных вычислений, при котором
программа разрабатывается как набор взаимодействующих вычислительных процессов,
работающих параллельно.

**Распределённые вычисления** – способ организации компьютерных вычислений с
использованием нескольких компьютеров, объединенных в параллельную вычислительную
систему.

**Поток выполнения** (thread (нить)) – наименьшая единица обработки исполнения, которой может
быть назначено ядром Операционной Системы. Реализация может отличаться в различных ОС, но
в большинстве случаев поток выполнения находится внутри процесса.

Несколько потоков выполнения могут существовать в рамках одного и того же процессами
совместно использовать ресурсы, такие как память, тогда как процессы не разделяют этих
ресурсов _(рис 1)_.
![[Pasted image 20241211084457.png]]

```
Рисунок 1. У процессов нет доступа к памяти других процессов.
```
Основная сложность при проектировании многопоточных программ – обеспечить правильную
последовательность доступа к общим ресурсам.

В пределах 1 потока различные потоки будут квантоваться т.е. выполняться по немного и по
очереди.

## Причины использования нескольких процессов:

- увеличение скорости решения задач
- увеличение пропускной способности
- естественность и удобство реализации
- взаимодействие с пользователем (выполнение тяжелых действий в отдельном потоке,
    интерфейс не зависает и можно даже отменить действие)

## Будущее за параллельными системами.

Видеокарта может решать параллельные задачи быстрее процессора, так, например в RTX 3090
около 10000 маленьких процессоров. Поэтому видеокарты используют для нейросетей, майнинга
биткоина и т.д.

Память процесса 1 (^) Память процесса 2


В результате теста параллельных вычислений в PyTorch (фреймворк для нейросетей в питоне)
видеокарта Intel Arc A580 была в 33 раза быстрее процессора Ryzen 7 5800.

### Реализации потоков:

- Реализация, которую предоставляет Операционная Система. Pthreads (POSIX) реализация в
    Linux и UNIX. Win 32 Threads. Solaris threads система поток в системе Solaris, сделано для
    платформы SPAC.
- Реализация потоков с помощью библиотек, которые подключаются к языкам
    программирования. На нижнем уровне эти библиотеки так же могут использовать потоки
    ОС. Например: Boost thread, Open MP, Intel threading, Building Blocks.
- Многопоточность встроена в сам язык программирования.

В среде .Net Framework существует 2 типа потоков:

1. Основной
2. Фоновый(вспомогательный)

Отличие одно – если первым завершится основной поток, то фоновые потоки в его процессе будут
так же принудительно остановлены, иначе если же завершится фоновый поток, то все остальные
потоки не остановятся и будут продолжать функционировать до тех пор пока не выполнит всю
работу и самостоятельно не остановится.

Пример кода на C#:
```
using System.Threading;

void myfunc() {

//тело функции какого-то потока

}

//Создание потока

Thread myThread = new Thread(myfunc);

//Запуск потока

myThread.start();
```
[Next >](2.md)