
Возможно также использование метода GetChannel() для доступа к определенному каналу по его имени. С помощью ChannelServices пишется специальная административная утилита для управления каналами. 

Вот небольшой пример показывающий как можно остановить режим прослушивания канала:

HttpServerChannel channel = (HttpServerChannel)ChannelServices.GetChannel("http");

channel.StorListening(null);

Класс RemotingConfiguration — другой служебный класс .NET Remoting. На серверной стороне он используется для регистрации типов удаленных объектов активированных на сервере объектов и для маршализации удаленных объектов в ссылочный класс маршализованного объекта ObjRef. ObjRef является сериализуемым представлением объекта, которое было послано по линии связи. На клиентской стороне работает RemotingServices, демаршализуя удаленный объект, чтобы создать прокси из объектной ссылки.

Вот серверный код для регистрации хорошо известного типа удаленного объекта в RemotingServices:

RemotingConfiguration.RegisterWellKnownServiceType( typeof(Hello),                   // Тип

 "Hi",                            // URI

  WellKnownObjectMode.SingleCall); // Режим

Первый аргумент метода RegisterWellKnownServiceType() — Wrox.ProfessionalCSharp.Hello определяет тип удаленного объекта. Второй аргумент — Hi является универсальным идентификатором ресурса удаленного объекта, который используется клиентом для доступа к удаленному объекту. Последний аргумент — режим удаленного объекта. Режим может быть значением перечисления WellKhownObjectMode: SingleCall или Singleton.

SingleCall означает, что объект не сохраняет состояние. Для каждого вызова удаленного объекта создается новый экземпляр. Объект SingleCall создается на сервере с помощью метода RemotingConfiguration.RegisterWellKnownServiceТуре() и аргумента WellKnownObjectMode.SingleCall. Это очень эффективно для сервера, так как получается, что не требуется поддерживать ресурсы может быть для тысяч клиентов.

С помощью режима Singleton объект совместно используется всеми клиентами сервера. Такие объектные типы могут применяться, если желательно предоставить доступ к некоторым данным всем клиентам. Это не должно быть проблемой для читаемых данных, но для данных чтения-записи необходимо знать о вопросах блокировки и масштабируемости. Объект Singleton создается на сервере с помощью метода RemotingConfiguration.RegisterWellKnownServiceType() и аргумента WellKnownObjectMode.Singleton. Необходимо убедиться, что данные не могут быть повреждены, когда клиенты получают доступ одновременно, но нужно и проверять, что блокирование сделано достаточно эффективно для достижения требуемой масштабируемости.
[< Previous](12.md) | [Next >](14.md)